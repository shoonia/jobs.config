(window.J=window.J||[]).push([[315],{861:(e,t,a)=>{a.r(t),a.d(t,{BuilderPage:()=>V});var n=a(396),r=a(323),i="qa",s="Ca",l="Ia Ha",o="Ma Ia Ha",c=a(661),d=a(664);const u=(0,c.kr)((0,d.CC)()),h=()=>(0,c.qp)(u);var m=a(484),p=a(428),Z=a(584);const v=({key:e,target:t})=>{"Enter"!==e&&" "!==e||t instanceof HTMLElement&&t.firstChild instanceof HTMLElement&&t.firstChild.click()},N=({name:e,value:t,period:a})=>{const n=t===a;return(0,Z.BX)("label",{className:"Fa",tabIndex:0,onKeyPress:v,"aria-checked":n,role:"checkbox",children:[(0,Z.tZ)("input",{type:"radio",name:e,checked:n,"data-name":"period",value:t,className:"Ba"}),(0,Z.tZ)("span",{className:"Aa",children:t})]})},b=()=>{const{id:e,period:t}=h();return(0,Z.tZ)("fieldset",{className:i,children:(0,Z.BX)("div",{className:"Da",children:[(0,Z.tZ)(N,{name:e,value:p.aI.DAILY,period:t}),(0,Z.tZ)(N,{name:e,value:p.aI.WEEKLY,period:t}),(0,Z.tZ)(N,{name:e,value:p.aI.MONTHLY,period:t}),(0,Z.tZ)(N,{name:e,value:p.aI.CRON,period:t})]})})},f=()=>{const{id:e}=h(),{dispatch:t,isMax:a}=(0,r.bI)("isMax");return(0,Z.BX)("div",{className:"ra",children:[(0,Z.BX)("div",{children:[(0,Z.tZ)("button",{type:"button","aria-label":"Move up",onClick:()=>{t("items/up",e)},className:"va sa","data-rh":"Move up","data-rh-at":"top"}),(0,Z.tZ)("button",{type:"button","aria-label":"Move down",onClick:()=>{t("items/down",e)},className:"wa sa xa","data-rh":"Move down","data-rh-at":"top"})]}),(0,Z.BX)("div",{children:[(0,Z.tZ)("button",{type:"button","aria-label":"remove",onClick:()=>{t("items/remove",e)},className:"ta sa","data-rh":"Remove","data-rh-at":"top"}),(0,Z.tZ)("button",{type:"button","aria-label":"clone",onClick:()=>{t("items/clone",e)},className:"ua sa","data-rh":"Clone","data-rh-at":"top",disabled:a})]})]})},y=({top:e,children:t})=>(0,Z.BX)("label",{className:"Ea",children:[(0,Z.tZ)("span",{className:"Ga",children:e}),t]}),w=()=>{const{functionLocation:e,functionName:t,description:a}=h();return(0,Z.BX)("fieldset",{className:i,children:[(0,Z.BX)("div",{className:s,children:[(0,Z.tZ)(y,{top:"Function Location",children:(0,Z.tZ)("input",{type:"text","data-name":p.tW.functionLocation,"data-fl":!0,"data-fl-at":"bottom",className:l,value:e,placeholder:"Function Location",pattern:"^(\\/)?[\\w\\-\\.\\/]*[\\w-]\\.jsw?$",spellcheck:!1,required:!0})}),(0,Z.tZ)("span",{className:"La",children:"/"}),(0,Z.tZ)(y,{top:"Function Name",children:(0,Z.tZ)("input",{type:"text","data-name":p.tW.functionName,"data-fl":!0,"data-fl-at":"bottom",className:l,value:t,placeholder:"Function Name",pattern:"^(\\s)*?[\\$a-zA-Z_][\\$\\w]*(\\s)*?$",spellcheck:!1,required:!0})})]}),(0,Z.tZ)("div",{className:s,children:(0,Z.tZ)(y,{top:"Description",children:(0,Z.tZ)("input",{type:"text",value:a,className:"Ka Ha","data-name":p.tW.description,placeholder:"Description"})})})]})};var g=a(598);const k=({value:e,setValidity:t})=>{const[a,r]=(0,g.G)(e);return(0,n.d4)((()=>{t(a)}),[a]),r},x=({value:e,error:t})=>{const a=(0,n.sO)(null);return(0,n.d4)((()=>{var e;null==(e=a.current)||e.setCustomValidity(t?"error":"")}),[t]),(0,Z.tZ)(y,{top:"A valid cron expression",children:(0,Z.tZ)("input",{ref:a,type:"text",className:o,value:e,"data-name":p.tW.cronExpression,spellcheck:!1,required:!0})})},C=()=>{const{time:e}=h();return(0,Z.tZ)(y,{top:"The time of day the job runs",children:(0,Z.tZ)("input",{type:"time",value:e,"data-name":"time",className:o,required:!0})})},I=()=>{const{id:e}=h();return(0,Z.tZ)(y,{top:"Cron Examples",children:(0,Z.tZ)("button",{type:"button",className:"Wa","aria-haspopup":"true","aria-label":"Show examples","data-fl":!0,"data-fl-at":"right","data-name":p.tW.cronExpression,"data-id":e,children:(0,Z.tZ)("svg",{width:"18",height:"18",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,Z.tZ)("path",{d:"M6 12.5c0-.828.666-1.5 1.5-1.5.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5zm5 0c0-.828.666-1.5 1.5-1.5.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5zm5 0c0-.828.666-1.5 1.5-1.5.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5z"})})})})},B=a(705).N.map((e=>(0,Z.tZ)("option",{value:e,children:e},e))),E=()=>{const{dayOfWeek:e}=h();return(0,Z.tZ)(y,{top:"The day of the week the job runs",children:(0,Z.tZ)("select",{className:"Ja Ia Ha xa","data-name":p.tW.dayOfWeek,value:e,children:B})})},M=()=>{const{dateInMonth:e}=h();return(0,Z.tZ)(y,{top:"The day of the month the job runs",children:(0,Z.tZ)("input",{type:"number",min:"1",max:"31",step:"1",value:String(e),"data-name":p.tW.dateInMonth,className:o,required:!0})})},S=()=>{const[e,t]=(0,n.eJ)(!1),{period:a,cronExpression:r}=h(),l=a===p.aI.CRON,o=l?(0,Z.tZ)(x,{value:r,error:e}):(0,Z.tZ)(C,{}),c=l&&(0,Z.tZ)(I,{}),d=l&&(0,Z.tZ)("div",{className:(0,m.AK)(["Na",e&&"Oa"]),children:k({value:r,setValidity:t})}),u=a===p.aI.WEEKLY&&(0,Z.tZ)(E,{}),v=a===p.aI.MONTHLY&&(0,Z.tZ)(M,{});return(0,Z.BX)("fieldset",{className:i,children:[(0,Z.BX)("div",{className:s,children:[o,(0,Z.tZ)("span",{className:"La"}),c,u,v]}),d]})},X=({id:e,update:t})=>(0,Z.BX)("form",{id:e,action:"#",className:"pa",onInput:t,onSubmit:m.PF,children:[(0,Z.tZ)(w,{}),(0,Z.tZ)(b,{}),(0,Z.tZ)(S,{}),(0,Z.tZ)(f,{})]}),j=()=>{const{dispatch:e,items:t}=(0,r.bI)("items"),a=t.length-1,i=(0,n.I4)((({target:t})=>{e("items/update",{id:t.form.id,name:t.dataset.name,value:t.value})}),[]),s=t.map(((e,t)=>{const n=(0,m.AK)([0===t&&"ya",t===a&&"za"]);return(0,Z.tZ)("li",{className:n,children:(0,Z.tZ)(u.Provider,{value:e,children:(0,Z.tZ)(X,{id:e.id,update:i})})},e.id)}));return(0,Z.tZ)("ul",{className:"oa",children:s})};var W=a(146);const L=()=>(0,Z.tZ)("svg",{width:"24",height:"24",fill:"currentColor","aria-hidden":"true",children:(0,Z.tZ)("path",{d:"M12 12V6h-1v6H5v1h6v6h1v-6h6v-1z"})}),A=()=>{const{dispatch:e,isMax:t}=(0,r.bI)("isMax");return(0,Z.tZ)("div",{className:"W",children:(0,Z.tZ)("span",{"data-rh":"You can configure up to 20 jobs.",className:"X",children:(0,Z.BX)(W.z,{onClick:()=>{e("items/new")},disabled:t,children:[(0,Z.tZ)(L,{})," New Job"]})})})},H=()=>(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(A,{}),(0,Z.tZ)(j,{})]}),P=({left:e,right:t})=>(0,Z.BX)("div",{className:"O",children:[(0,Z.tZ)("div",{className:"Q P",children:e}),(0,Z.tZ)("div",{className:"R P",children:t})]});var F=a(105);const O=[{regex:/^[\s[\]{}:,]+/},{regex:/^"(?:\\.|[^"\\])*"/,className:F.Z.mtk6},{regex:/^-?\d+(?:\.\d+)?(?:e[+-]?\d+)?/,className:F.Z.mtk5}],T=({input:e})=>{const t=[];for(;e.length>0;)for(let a=0;a<O.length;a++){const n=O[a],r=n.regex.exec(e);if(Array.isArray(r)){const[a]=r,i="className"in n?(0,Z.tZ)("span",{className:n.className,children:a}):a;t.push(i),e=e.slice(a.length);break}}return(0,Z.tZ)("code",{children:t})},q="function"===typeof window.showSaveFilePicker,z=({label:e,jsonString:t})=>q?(0,Z.tZ)("button",{type:"button",className:"Pa",onClick:()=>{(async e=>{const t=await window.showSaveFilePicker({suggestedName:"jobs.config",types:[{description:"Jobs Config",accept:{"application/json":[".config"]}}]});if("granted"===await t.queryPermission()){const a=await t.createWritable();await a.write(e),await a.close()}})(t)},"aria-label":e}):(0,Z.tZ)("a",{href:"data:application/json,"+encodeURIComponent(t),className:"Pa",download:"jobs.config",type:"application/json","aria-label":e}),J=()=>{const{items:e}=(0,r.bI)("items"),t=(0,n.sO)(null),a=(0,d._g)(e);return(0,Z.BX)("div",{className:"S",children:[(0,Z.tZ)("div",{className:"U",children:(0,Z.tZ)(W.z,{onClick:async()=>{if(await navigator.clipboard.writeText(a),t.current instanceof Node){const e=window.getSelection(),a=document.createRange();a.selectNodeContents(t.current),null==e||e.removeAllRanges(),null==e||e.addRange(a)}},children:"Copy Code"})}),(0,Z.tZ)("pre",{ref:t,className:"T",children:(0,Z.tZ)(T,{input:a})}),(0,Z.tZ)("div",{className:"V","data-rh":"Download a file","data-rh-at":"left",children:(0,Z.tZ)(z,{label:"Download a file",jsonString:a})})]})},V=()=>(0,Z.tZ)(P,{left:(0,Z.tZ)(H,{}),right:(0,Z.tZ)(J,{})})},146:(e,t,a)=>{a.d(t,{z:()=>i});var n=a(484),r=a(584);const i=({onClick:e,children:t,className:a,...i})=>{const s=(0,n.AK)(["Qa",a]);return(0,r.tZ)("button",{type:"button",onClick:e,className:s,...i,children:t})}},598:(e,t,a)=>{a.d(t,{G:()=>l});var n=a(502),r=a(458);const i=/^every (\d+ )?(second|minute)s?\b/i,s=e=>[!0,e],l=e=>{try{const t=(0,r.toString)(e,{use24HourTimeFormat:!0});return i.test(t)?s(t+"\n\nError: You can schedule your job to run at intervals as short as one hour apart, but not shorter. If you define your job to run more frequently, the job will be ignored."):e.includes("?")?s(t+".\n\nError: Velo Job Scheduler does not support the blank syntax with (?) symbol."):e.includes("#")?s(t+".\n\nError: Velo Job Scheduler does not support the hash (#) symbol."):(0,n.isValidCron)(e,{seconds:!1,allowBlankDay:!1,allowSevenAsSunday:!0,alias:!0})?[!1,t]:s(t+".\n\nError: Velo Job Scheduler does not support this syntax.")}catch(e){return s(String(e))}}},105:(e,t)=>{t.Z={mtk1:"A",mtk4:"B",mtk3:"C",mtk5:"D",mtk6:"E",mtk10:"F",err:"G"}}}]);
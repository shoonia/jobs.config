(window.jobsConfig=window.jobsConfig||[]).push([[315],{952:(e,a,t)=>{t.r(a),t.d(a,{BuilderPage:()=>F});var n=t(400),s=t(396),o=t(971),i="ga",l="na",r="sa ra",c="ta ra",d=t(661),h=t(235);const m=({key:e,target:a})=>{"Enter"!==e&&" "!==e||a.firstChild.click()},u=({name:e,value:a,period:t})=>{const s=a===t;return(0,n.h)("label",{className:"pa",tabIndex:s?-1:0,onKeyPress:m},(0,n.h)("input",{type:"radio",name:e,checked:s,"data-name":"period",value:a,className:"ma"}),(0,n.h)("span",{className:"la"},a))},p=({top:e,children:a})=>(0,n.h)("label",{className:"oa"},(0,n.h)("span",{className:"qa"},e),a),v=({value:e})=>(0,n.h)(p,{top:"The time of day the job runs."},(0,n.h)("input",{type:"time",value:e,"data-name":"time",className:c,required:!0})),N=({value:e,error:a})=>{const t=(0,s.sO)();return(0,s.d4)((()=>{t.current.setCustomValidity(a?"error":"")}),[a]),(0,n.h)(p,{top:"A valid cron expression"},(0,n.h)("input",{ref:t,type:"text",className:"ua ta ra",value:e,"data-name":"cronExpression",required:!0}))};var f=t(337);const b=({name:e,time:a,cronExpression:t,period:o})=>{const[r,c]=(0,d.eJ)(!1),m=o===h.aI.CRON,p=m?(0,n.h)(N,{value:t,error:r}):(0,n.h)(v,{value:a}),b=m&&(0,n.h)("span",{className:r?"xa":void 0},(({value:e,setValidity:a})=>{const[t,n]=(0,f.G)(e);return(0,s.d4)((()=>{a(t)}),[t]),n})({value:t,setValidity:c}));return(0,n.h)("fieldset",{className:i},(0,n.h)("div",{className:l},(0,n.h)("div",null,p,(0,n.h)(u,{name:e,value:h.aI.DAILY,period:o}),(0,n.h)(u,{name:e,value:h.aI.WEEKLY,period:o}),(0,n.h)(u,{name:e,value:h.aI.MONTHLY,period:o}),(0,n.h)(u,{name:e,value:h.aI.CRON,period:o})),b))},y=t(744).N.map((e=>(0,n.h)("option",{key:e,value:e},e))),g=({day:e})=>(0,n.h)("fieldset",{className:i},(0,n.h)("div",{className:l},(0,n.h)(p,{top:"The day of the week the job runs."},(0,n.h)("select",{className:c,"data-name":"dayOfWeek",value:e},y)))),x=({date:e})=>(0,n.h)("fieldset",{className:i},(0,n.h)("div",{className:l},(0,n.h)(p,{top:"The day of the month the job runs."},(0,n.h)("input",{type:"number",min:"1",max:"31",step:"1",value:e,"data-name":"dateInMonth",className:c,required:!0})))),k=({remove:e,clone:a,isMax:t})=>(0,n.h)("div",{className:"ha"},(0,n.h)("button",{type:"button","aria-label":"remove",onClick:e,className:"ja ia","data-rh":"Remove","data-rh-at":"top"}),(0,n.h)("button",{type:"button","aria-label":"clone",onClick:a,className:"ka ia","data-rh":"Clone","data-rh-at":"top",disabled:t})),C=({functionLocation:e,functionName:a,description:t})=>(0,n.h)("fieldset",{className:i},(0,n.h)("div",{className:l},(0,n.h)(p,{top:"Function Location"},(0,n.h)("input",{type:"text","data-name":"functionLocation","data-fl":!0,"data-fl-at":"bottom",className:r,value:e,placeholder:"Function Location",pattern:"^(\\/)?[\\w\\-\\.\\/]*[\\w-]\\.jsw?$",required:!0})),(0,n.h)("span",{className:"wa"},"/"),(0,n.h)(p,{top:"Function Name"},(0,n.h)("input",{type:"text","data-name":"functionName","data-fl":!0,"data-fl-at":"bottom",className:r,value:a,placeholder:"Function Name",pattern:"^(\\s)*?[\\$a-zA-Z_][\\$\\w]*(\\s)*?$",required:!0}))),(0,n.h)("div",{className:l},(0,n.h)(p,{top:"Description"},(0,n.h)("input",{type:"text",value:t,className:"va ra","data-name":"description",placeholder:"Description"}))));var I=t(309);const w=({data:e,remove:a,clone:t,update:s,isMax:o})=>{const{id:i,period:l}=e,r=l===h.aI.WEEKLY&&(0,n.h)(g,{day:e.dayOfWeek}),c=l===h.aI.MONTHLY&&(0,n.h)(x,{date:String(e.dateInMonth)});return(0,n.h)("li",null,(0,n.h)("form",{id:i,action:"#",className:"fa",onInput:s,onSubmit:I.PF},(0,n.h)(C,{functionLocation:e.functionLocation,functionName:e.functionName,description:e.description}),(0,n.h)(b,{name:i,period:l,time:e.time,cronExpression:e.cronExpression}),r,c,(0,n.h)(k,{remove:a,clone:t,isMax:o})))},M=()=>{const{dispatch:e,items:a,isMax:t}=(0,o.bI)("items","isMax"),i=(0,s.I4)((({target:a})=>{e("items/remove",a.form.id)}),[]),l=(0,s.I4)((({target:a})=>{e("items/clone",a.form.id)}),[]),r=(0,s.I4)((({target:a})=>{e("items/update",{id:a.form.id,name:a.dataset.name,value:a.value})}),[]),c=a.map((e=>(0,n.h)(w,{key:e.id,data:e,remove:i,clone:l,update:r,isMax:t})));return(0,n.h)("ul",{className:"ea"},c)};var L=t(717);const j=()=>(0,n.h)("svg",{width:"24",height:"24",fill:"currentColor","aria-hidden":"true"},(0,n.h)("path",{d:"M12 12V6h-1v6H5v1h6v6h1v-6h6v-1z"})),E=()=>{const{dispatch:e,isMax:a}=(0,o.bI)("isMax");return(0,n.h)("div",{className:"T"},(0,n.h)("span",{"data-rh":"You can configure up to 20 jobs.",className:"U"},(0,n.h)(L.z,{onClick:()=>{e("items/new")},disabled:a},(0,n.h)(j,null)," New Job")))},O=()=>(0,n.h)(n.HY,null,(0,n.h)(E,null),(0,n.h)(M,null)),z=({left:e,right:a})=>(0,n.h)("div",{className:"F"},(0,n.h)("div",{className:"H G"},e),(0,n.h)("div",{className:"I G"},a));var A=t(529);const R=[{regex:/^[\s[\]{}:,]+/},{regex:/^-?\d+(?:\.\d+)?(?:e[+-]?\d+)?/i,className:A.Z.mtk5},{regex:/^"(?:\\.|[^"\\])*"/,className:A.Z.mtk6}],Y=({input:e})=>{const a=[];let t;do{t=!1;for(let s=0;s<R.length;s++){const o=R[s],i=o.regex.exec(e);if(Array.isArray(i)){const[s]=i,l="className"in o?(0,n.h)("span",{className:o.className},s):s;a.push(l),e=e.substring(s.length),t=!0;break}}}while(e.length>0&&t);return(0,n.h)("code",null,a)};var q=t(225);const D=()=>{const{items:e}=(0,o.bI)("items"),a=(0,s.sO)(),t=(0,q._g)(e),i=`data:application/json,${encodeURIComponent(t)}`;return(0,n.h)("div",{className:"J"},(0,n.h)("div",{className:"L"},(0,n.h)(L.z,{onClick:()=>{const e=window.getSelection(),t=document.createRange();t.selectNodeContents(a.current),e.removeAllRanges(),e.addRange(t),document.execCommand("copy")}},"Copy Code")),(0,n.h)("pre",{ref:a,className:"K"},(0,n.h)(Y,{input:t})),(0,n.h)("div",{className:"M"},(0,n.h)("a",{href:i,className:"N",download:"jobs.config",type:"application/json","aria-label":"Download a file","data-rh":"Download a file","data-rh-at":"left"})))},F=()=>(0,n.h)(z,{left:(0,n.h)(O,null),right:(0,n.h)(D,null)})},717:(e,a,t)=>{t.d(a,{z:()=>s});var n=t(400);const s=({onClick:e,disabled:a,children:t,type:s="button"})=>(0,n.h)("button",{type:s,onClick:e,className:"za ya",disabled:a},t)},337:(e,a,t)=>{t.d(a,{G:()=>i});var n=t(502),s=t(458);const o=/^every (\d+ )?(second|minute)s?\b/i,i=e=>{try{const a=(0,s.toString)(e);return o.test(a)?[!0,a]:[!(0,n.isValidCron)(e,{seconds:!1}),a]}catch(e){return[!0,String(e)]}}},529:(e,a)=>{a.Z={mtk1:"y",mtk4:"z",mtk3:"A",mtk5:"B",mtk6:"C",func:"D",err:"E"}}}]);
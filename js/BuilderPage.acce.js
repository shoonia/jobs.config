(window.J=window.J||[]).push([[315],{722:(e,a,t)=>{t.r(a),t.d(a,{BuilderPage:()=>D});var n=t(396),r=t(971),l="pa",s="wa",i="Ca Ba",o="Fa Ca Ba",c=t(235),d=t(584);const m=({key:e,target:a})=>{"Enter"!==e&&" "!==e||a.firstChild.click()},h=({name:e,value:a,period:t})=>{const n=a===t;return(0,d.BX)("label",{className:"za",tabIndex:n?-1:0,onKeyPress:m,children:[(0,d.tZ)("input",{type:"radio",name:e,checked:n,"data-name":"period",value:a,className:"va"}),(0,d.tZ)("span",{className:"ua",children:a})]})};var u=t(661),p=t(225);const Z=(0,u.kr)((0,p.CC)()),v=()=>(0,u.qp)(Z),N=()=>{const{id:e,period:a}=v();return(0,d.tZ)("fieldset",{className:l,children:(0,d.BX)("div",{className:"xa",children:[(0,d.tZ)(h,{name:e,value:c.aI.DAILY,period:a}),(0,d.tZ)(h,{name:e,value:c.aI.WEEKLY,period:a}),(0,d.tZ)(h,{name:e,value:c.aI.MONTHLY,period:a}),(0,d.tZ)(h,{name:e,value:c.aI.CRON,period:a})]})})};var b=t(717);const y=({remove:e,clone:a,isMax:t})=>(0,d.BX)("div",{className:"qa",children:[(0,d.tZ)(b.z,{blank:!0,"aria-label":"remove",onClick:e,className:"sa ra","data-rh":"Remove","data-rh-at":"top"}),(0,d.tZ)(b.z,{blank:!0,"aria-label":"clone",onClick:a,className:"ta ra","data-rh":"Clone","data-rh-at":"top",disabled:t})]}),f=({top:e,children:a})=>(0,d.BX)("label",{className:"ya",children:[(0,d.tZ)("span",{className:"Aa",children:e}),a]}),g=()=>{const{functionLocation:e,functionName:a,description:t}=v();return(0,d.BX)("fieldset",{className:l,children:[(0,d.BX)("div",{className:s,children:[(0,d.tZ)(f,{top:"Function Location",children:(0,d.tZ)("input",{type:"text","data-name":c.tW.functionLocation,"data-fl":!0,"data-fl-at":"bottom",className:i,value:e,placeholder:"Function Location",pattern:"^(\\/)?[\\w\\-\\.\\/]*[\\w-]\\.jsw?$",spellcheck:!1,required:!0})}),(0,d.tZ)("span",{className:"Ea",children:"/"}),(0,d.tZ)(f,{top:"Function Name",children:(0,d.tZ)("input",{type:"text","data-name":c.tW.functionName,"data-fl":!0,"data-fl-at":"bottom",className:i,value:a,placeholder:"Function Name",pattern:"^(\\s)*?[\\$a-zA-Z_][\\$\\w]*(\\s)*?$",spellcheck:!1,required:!0})})]}),(0,d.tZ)("div",{className:s,children:(0,d.tZ)(f,{top:"Description",children:(0,d.tZ)("input",{type:"text",value:t,className:"Da Ba","data-name":c.tW.description,placeholder:"Description"})})})]})};var k=t(337);const x=({value:e,setValidity:a})=>{const[t,r]=(0,k.G)(e);return(0,n.d4)((()=>{a(t)}),[t]),r},w=({value:e,error:a})=>{const t=(0,n.sO)(null);return(0,n.d4)((()=>{var e;null==(e=t.current)||e.setCustomValidity(a?"error":"")}),[a]),(0,d.tZ)(f,{top:"A valid cron expression",children:(0,d.tZ)("input",{ref:t,type:"text",className:o,value:e,"data-name":c.tW.cronExpression,spellcheck:!1,required:!0})})},C=()=>{const{time:e}=v();return(0,d.tZ)(f,{top:"The time of day the job runs.",children:(0,d.tZ)("input",{type:"time",value:e,"data-name":"time",className:o,required:!0})})},I=()=>{const{id:e}=v();return(0,d.tZ)(f,{top:"Cron Examples",children:(0,d.tZ)(b.z,{blank:!0,className:"Qa","aria-haspopup":"true","aria-label":"Show examples","data-fl":!0,"data-fl-at":"right","data-name":c.tW.cronExpression,"data-id":e,children:(0,d.tZ)("svg",{width:"18",height:"18",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,d.tZ)("path",{d:"M6 12.5c0-.828.666-1.5 1.5-1.5.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5zm5 0c0-.828.666-1.5 1.5-1.5.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5zm5 0c0-.828.666-1.5 1.5-1.5.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5z"})})})})},B=t(744).N.map((e=>(0,d.tZ)("option",{value:e,children:e},e))),E=()=>{const{dayOfWeek:e}=v();return(0,d.tZ)(f,{top:"The day of the week the job runs.",children:(0,d.tZ)("select",{className:i,"data-name":c.tW.dayOfWeek,value:e,children:B})})},M=()=>{const{dateInMonth:e}=v();return(0,d.tZ)(f,{top:"The day of the month the job runs.",children:(0,d.tZ)("input",{type:"number",min:"1",max:"31",step:"1",value:String(e),"data-name":c.tW.dateInMonth,className:o,required:!0})})};var z=t(309);const S=()=>{const[e,a]=(0,n.eJ)(!1),{period:t,cronExpression:r}=v(),i=t===c.aI.CRON,o=i?(0,d.tZ)(w,{value:r,error:e}):(0,d.tZ)(C,{}),m=i&&(0,d.tZ)(I,{}),h=i&&(0,d.tZ)("div",{className:(0,z.AK)(["Ga",e&&"Ha"]),children:x({value:r,setValidity:a})}),u=t===c.aI.WEEKLY&&(0,d.tZ)(E,{}),p=t===c.aI.MONTHLY&&(0,d.tZ)(M,{});return(0,d.BX)("fieldset",{className:l,children:[(0,d.BX)("div",{className:s,children:[o,(0,d.tZ)("span",{className:"Ea"}),m,u,p]}),h]})},X=({data:e,remove:a,clone:t,update:n,isMax:r})=>(0,d.tZ)(Z.Provider,{value:e,children:(0,d.tZ)("li",{children:(0,d.BX)("form",{id:e.id,action:"#",className:"oa",onInput:n,onSubmit:z.PF,children:[(0,d.tZ)(g,{}),(0,d.tZ)(N,{}),(0,d.tZ)(S,{}),(0,d.tZ)(y,{remove:a,clone:t,isMax:r})]})})}),W=()=>{const{dispatch:e,items:a,isMax:t}=(0,r.bI)("items","isMax"),l=(0,n.I4)((({target:a})=>{e("items/remove",a.form.id)}),[]),s=(0,n.I4)((({target:a})=>{e("items/clone",a.form.id)}),[]),i=(0,n.I4)((({target:a})=>{e("items/update",{id:a.form.id,name:a.dataset.name,value:a.value})}),[]),o=a.map((e=>(0,d.tZ)(X,{data:e,remove:l,clone:s,update:i,isMax:t},e.id)));return(0,d.tZ)("ul",{className:"na",children:o})},j=()=>(0,d.tZ)("svg",{width:"24",height:"24",fill:"currentColor","aria-hidden":"true",children:(0,d.tZ)("path",{d:"M12 12V6h-1v6H5v1h6v6h1v-6h6v-1z"})}),A=()=>{const{dispatch:e,isMax:a}=(0,r.bI)("isMax");return(0,d.tZ)("div",{className:"V",children:(0,d.tZ)("span",{"data-rh":"You can configure up to 20 jobs.",className:"W",children:(0,d.BX)(b.z,{primary:!0,onClick:()=>{e("items/new")},disabled:a,children:[(0,d.tZ)(j,{})," New Job"]})})})},L=()=>(0,d.BX)(d.HY,{children:[(0,d.tZ)(A,{}),(0,d.tZ)(W,{})]}),O=({left:e,right:a})=>(0,d.BX)("div",{className:"R",children:[(0,d.tZ)("div",{className:"T S",children:e}),(0,d.tZ)("div",{className:"U S",children:a})]});var R=t(529);const V=[{regex:/^[\s[\]{}:,]+/},{regex:/^-?\d+(?:\.\d+)?(?:e[+-]?\d+)?/i,className:R.Z.mtk5},{regex:/^"(?:\\.|[^"\\])*"/,className:R.Z.mtk6}],$=({input:e})=>{const a=[];let t;do{t=!1;for(let n=0;n<V.length;n++){const r=V[n],l=r.regex.exec(e);if(Array.isArray(l)){const[n]=l,s="className"in r?(0,d.tZ)("span",{className:r.className,children:n}):n;a.push(s),e=e.substring(n.length),t=!0;break}}}while(e.length>0&&t);return(0,d.tZ)("code",{children:a})},q=()=>{const{items:e}=(0,r.bI)("items"),a=(0,n.sO)(null),t=(0,p._g)(e),l=`data:application/json,${encodeURIComponent(t)}`;return(0,d.BX)("div",{className:"M",children:[(0,d.tZ)("div",{className:"O",children:(0,d.tZ)(b.z,{primary:!0,onClick:()=>{const e=window.getSelection(),t=document.createRange();(0,z.Re)(a.current)&&(t.selectNodeContents(a.current),e.removeAllRanges(),e.addRange(t),document.execCommand("copy"))},children:"Copy Code"})}),(0,d.tZ)("pre",{ref:a,className:"N",children:(0,d.tZ)($,{input:t})}),(0,d.tZ)("div",{className:"P",children:(0,d.tZ)("a",{href:l,className:"Q",download:"jobs.config",type:"application/json","aria-label":"Download a file","data-rh":"Download a file","data-rh-at":"left"})})]})},D=()=>(0,d.tZ)(O,{left:(0,d.tZ)(L,{}),right:(0,d.tZ)(q,{})})},717:(e,a,t)=>{t.d(a,{z:()=>l});var n=t(309),r=t(584);const l=({blank:e=!1,primary:a=!1,onClick:t,children:l,type:s="button",className:i,...o})=>{const c=(0,n.AK)([e&&"Ka",a&&"Ja Ia",i]);return(0,r.tZ)("button",{type:s,onClick:t,className:c,...o,children:l})}},337:(e,a,t)=>{t.d(a,{G:()=>i});var n=t(502),r=t(458);const l=/^every (\d+ )?(second|minute)s?\b/i,s=e=>[!0,e],i=e=>{try{const a=(0,r.toString)(e,{use24HourTimeFormat:!0});return l.test(a)?s(`${a}\n\nError: You can schedule your job to run at intervals as short as one hour apart, but not shorter. If you define your job to run more frequently, the job will be ignored.`):e.includes("?")?s(`${a}.\n\nError: Velo Job Scheduler does not support the blank syntax with (?) symbol.`):e.includes("#")?s(`${a}.\n\nError: Velo Job Scheduler does not support the hash (#) symbol.`):(0,n.isValidCron)(e,{seconds:!1,allowBlankDay:!1,allowSevenAsSunday:!0,alias:!0})?[!1,a]:s(`${a}.\n\nError: Velo Job Scheduler does not support this syntax.`)}catch(e){return s(String(e))}}},529:(e,a)=>{a.Z={mtk1:"y",mtk4:"z",mtk3:"A",mtk5:"B",mtk6:"C",mtk10:"D",err:"E"}}}]);
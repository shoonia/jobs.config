(window.g=window.g||[]).push([[643],{862:(e,n,t)=>{t.d(n,{k:()=>x});var r=t(720),i=t(6584);const o=e=>{let{index:n,name:t,expected:r}=e;return(0,i.tZ)("p",{children:'Incorrect type of property "'+t+'" at "jobs['+n+']". Expected "'+r+'".'})};var c=t(6705),s=t(5073),d=t(484),l=t(7428),a=t(2598);const p=[l.tW.functionLocation,l.tW.functionName,l.tW.executionConfig],h=[...p,l.tW.description],u=[l.tW.dayOfWeek,l.tW.dateInMonth],f=[l.tW.time,...u],m=[l.tW.cronExpression,...f],Z=e=>[!0,e],b=(e,n)=>{for(const t of Object.keys(e))if(!n.includes(t))return[!0,t];return[!1]},j=(e,n)=>{for(const t of n)if(!(t in e))return[!0,t];return[!1]},x=e=>{const n='", "';if(!(0,d.Kn)(e))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Incorrect type. Expected "object".'}),(0,i.tZ)("p",{children:"The jobs.config file must contains a JSON object."})]}));if(!(l.tW.jobs in e))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Missing property "jobs".'}),(0,i.tZ)("p",{children:'The jobs object must contains one top-level key named "jobs".'})]}));const t=Object.keys(e);if(t.length>1){const e=t.filter((e=>e!==l.tW.jobs)).join(n);return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Unknown property "'+e+'".'}),(0,i.tZ)("p",{children:'The jobs object must contains one top-level key named "jobs".'})]}))}if(!Array.isArray(e.jobs))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Incorrect type. Expected "array".'}),(0,i.tZ)("p",{children:'The top-level key "jobs" must be an array.'})]}));const x=e.jobs;let y=x.length;if(y>20)return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:"Too many scheduled jobs. ("+y+")"}),(0,i.tZ)("p",{children:"You can configure up to 20 jobs."})]}));if(y<1)return Z((0,i.tZ)("p",{children:"No scheduled jobs."}));if(!x.every(d.Kn))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Incorrect type. Expected "object."'}),(0,i.tZ)("p",{children:'The "jobs" array must contain only objects, each of which represents a scheduled job.'})]}));for(;0<y--;){const e=x[y],[t,g]=b(e,h);if(t)return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Unknown property "'+g+'" at "jobs['+y+']".'}),(0,i.tZ)("p",{children:'Allowed one of "'+h.join(n)+'"'})]}));const[W,v]=j(e,p);if(W)return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Missing property "'+v+'" at "jobs['+y+']"'}),(0,i.tZ)("p",{children:'Each scheduled job object must contain the required fields "'+p.join(n)+'".'})]}));if(l.tW.description in e&&!(0,d.HD)(e.description))return Z((0,i.tZ)(o,{index:y,name:l.tW.description,expected:"string"}));const H=e.functionLocation;if(!(0,d.HD)(H))return Z((0,i.tZ)(o,{index:y,name:l.tW.functionLocation,expected:"string"}));if(!(0,s.QL)(H))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Invalid "functionLocation" at "jobs['+y+']".'}),(0,i.BX)("p",{children:["The function location is a relative path within the Backend folder for ",(0,i.tZ)("code",{children:".js"})," or ",(0,i.tZ)("code",{children:".jsw"})," file."]}),(0,i.tZ)("p",{children:"File and Folder names can contain only alphanumeric characters, periods, hyphens and underscores, and can not begin or end with a period."})]}));const B=e.functionName;if(!(0,d.HD)(B))return Z((0,i.tZ)(o,{index:y,name:l.tW.functionName,expected:"string"}));if(!(0,s.c3)(B)||(0,r.isKeyword)(B)||(0,r.isStrictBindReservedWord)(B,!0))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Invalid "functionName" at "jobs['+y+']"'}),(0,i.tZ)("p",{children:'Error: "'+B+'".'})]}));const I=e.executionConfig;if(!(0,d.Kn)(I))return Z((0,i.tZ)(o,{index:y,name:l.tW.executionConfig,expected:"object"}));const[C,E]=b(I,m);if(C)return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Unknown property "'+E+'" in "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:'Allowed one of "'+m.join(n)+'"'})]}));if(l.tW.cronExpression in I){const e=I.cronExpression;if(!(0,d.HD)(e))return Z((0,i.tZ)(o,{index:y,name:l.tW.cronExpression,expected:"string"}));const[n,t]=(0,a.G)(e);if(n)return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Invalid "cronExpression" at "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:t})]}))}else{if(!(l.tW.time in I))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Missing the time of the job runs at "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:'The "executionConfig" object must contain one of "time", "cronExpression" properties.'})]}));{const e=I.time;if(!(0,d.HD)(e))return Z((0,i.tZ)(o,{index:y,name:l.tW.time,expected:"string"}));if(!(0,s.CO)(e))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Invalid "time" at "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:'Error: "'+e+'". The time is specified as UTC time in HH:MM format.'})]}))}}if(l.tW.dayOfWeek in I){const e=I.dayOfWeek;if(!(0,d.HD)(e))return Z((0,i.tZ)(o,{index:y,name:l.tW.dayOfWeek,expected:"string"}));if(!c.N.some((n=>n===e)))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Incorrect value of "dayOfWeek" at "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:'Error: unknown value "'+e+'". Allowed one of "'+c.N.join(n)+'"'})]}))}if(l.tW.dateInMonth in I){const e=I.dateInMonth;if(!(0,d.hj)(e))return Z((0,i.tZ)(o,{index:y,name:l.tW.dateInMonth,expected:"number"}));if(!Number.isInteger(e)||e<1||e>31)return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Invalid "dateInMonth" at "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:'The value of the "dateInMonth" property must be a number between 1 and 31.'})]}))}if(l.tW.cronExpression in I&&f.some((e=>e in I)))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Mutual exclusion property at "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:'Error: "cronExpression" omit all of "'+f.join(n)+'" properties.'}),(0,i.tZ)("p",{children:(0,i.tZ)("em",{children:'When using a cron expression to specify when a job runs, the "executionConfig" object contains a single property, named "cronExpression", whose value is a valid cron expression.'})})]}));if(u.every((e=>e in I)))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Mutual exclusion property at "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:'Error: "dateInMonth" omit the "dayOfWeek" property.'})]}))}return[!1]}},3516:(e,n,t)=>{t.d(n,{D:()=>o});var r=t(6509),i=t(278);const o=e=>{try{const n=(0,r.Z)(e);return[null,(0,i.Z)(n)]}catch(e){return[String(e)]}}},6005:(e,n,t)=>{t.d(n,{z:()=>i});var r=t(6584);const i=e=>{let{onInput:n,value:t}=e;return(0,r.tZ)("textarea",{onInput:n,className:"ja",value:t,placeholder:"{}",spellcheck:!1})}},2410:(e,n,t)=>{t.r(n),t.d(n,{UploadModal:()=>Z});var r=t(2323),i=t(396),o=t(484),c=t(3516),s=t(862),d=t(4664),l=t(7428),a=t(3253),p=t.n(a),h=t(6584);p().setAppElement("#app");const u=e=>{let{close:n,label:t,children:r}=e;return(0,h.tZ)(p(),{isOpen:!0,onRequestClose:n,contentLabel:t,overlayClassName:"Oa",className:"Ra",bodyOpenClassName:"Pa",htmlOpenClassName:"Qa",children:r})};var f=t(6005),m=t(6580);const Z=()=>{const e=(0,i.sO)(""),{dispatch:n}=(0,r.bI)(),t=()=>{n("router/open-modal",!1)};return(0,h.tZ)(u,{label:"Upload form",close:t,children:(0,h.BX)("form",{onSubmit:r=>{(0,o.PF)(r);const i=e.current;if(""===i.trim())return t();const[a,p]=(0,c.D)(i);if(!a){const[e]=(0,s.k)(p);if(!e)return n("items/replace",(0,d.Ze)(p)),t()}n("validator/input",i),location.hash=l.Yj.VALIDATOR},className:"ha",children:[(0,h.tZ)("h2",{children:"Upload your config"}),(0,h.tZ)(f.z,{onInput:n=>{let{target:t}=n;t instanceof HTMLTextAreaElement&&(e.current=t.value)}}),(0,h.BX)("div",{className:"ia",children:[(0,h.tZ)(m.z,{type:"submit",children:"Upload Config"}),(0,h.tZ)(m.z,{onClick:t,children:"Close"})]})]})})}},754:()=>{}}]);
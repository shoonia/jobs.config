(window.J=window.J||[]).push([[315],{670:(e,a,t)=>{t.r(a),t.d(a,{BuilderPage:()=>$});var n=t(396),r=t(971),o="la",i="sa",s="ya xa",l="Ba ya xa",c=t(235),d=t(584);const m=({key:e,target:a})=>{"Enter"!==e&&" "!==e||a.firstChild.click()},u=({name:e,value:a,period:t})=>{const n=a===t;return(0,d.BX)("label",{className:"va",tabIndex:n?-1:0,onKeyPress:m,children:[(0,d.tZ)("input",{type:"radio",name:e,checked:n,"data-name":"period",value:a,className:"ra"}),(0,d.tZ)("span",{className:"qa",children:a})]})},h=({name:e,period:a})=>(0,d.tZ)("fieldset",{className:o,children:(0,d.BX)("div",{className:"ta",children:[(0,d.tZ)(u,{name:e,value:c.aI.DAILY,period:a}),(0,d.tZ)(u,{name:e,value:c.aI.WEEKLY,period:a}),(0,d.tZ)(u,{name:e,value:c.aI.MONTHLY,period:a}),(0,d.tZ)(u,{name:e,value:c.aI.CRON,period:a})]})}),p=({remove:e,clone:a,isMax:t})=>(0,d.BX)("div",{className:"ma",children:[(0,d.tZ)("button",{type:"button","aria-label":"remove",onClick:e,className:"oa na","data-rh":"Remove","data-rh-at":"top"}),(0,d.tZ)("button",{type:"button","aria-label":"clone",onClick:a,className:"pa na","data-rh":"Clone","data-rh-at":"top",disabled:t})]}),Z=({top:e,children:a})=>(0,d.BX)("label",{className:"ua",children:[(0,d.tZ)("span",{className:"wa",children:e}),a]}),v=({functionLocation:e,functionName:a,description:t})=>(0,d.BX)("fieldset",{className:o,children:[(0,d.BX)("div",{className:i,children:[(0,d.tZ)(Z,{top:"Function Location",children:(0,d.tZ)("input",{type:"text","data-name":"functionLocation","data-fl":!0,"data-fl-at":"bottom",className:s,value:e,placeholder:"Function Location",pattern:"^(\\/)?[\\w\\-\\.\\/]*[\\w-]\\.jsw?$",spellcheck:!1,required:!0})}),(0,d.tZ)("span",{className:"Aa",children:"/"}),(0,d.tZ)(Z,{top:"Function Name",children:(0,d.tZ)("input",{type:"text","data-name":"functionName","data-fl":!0,"data-fl-at":"bottom",className:s,value:a,placeholder:"Function Name",pattern:"^(\\s)*?[\\$a-zA-Z_][\\$\\w]*(\\s)*?$",spellcheck:!1,required:!0})})]}),(0,d.tZ)("div",{className:i,children:(0,d.tZ)(Z,{top:"Description",children:(0,d.tZ)("input",{type:"text",value:t,className:"za xa","data-name":"description",placeholder:"Description"})})})]});var N=t(337);const y=({value:e,setValidity:a})=>{const[t,r]=(0,N.G)(e);return(0,n.d4)((()=>{a(t)}),[t]),r},b=({value:e,error:a})=>{const t=(0,n.sO)(null);return(0,n.d4)((()=>{var e;null==(e=t.current)||e.setCustomValidity(a?"error":"")}),[a]),(0,d.tZ)(Z,{top:"A valid cron expression",children:(0,d.tZ)("input",{ref:t,type:"text",className:l,value:e,"data-name":"cronExpression",spellcheck:!1,required:!0})})},f=({value:e})=>(0,d.tZ)(Z,{top:"The time of day the job runs.",children:(0,d.tZ)("input",{type:"time",value:e,"data-name":"time",className:l,required:!0})}),x=t(744).N.map((e=>(0,d.tZ)("option",{value:e,children:e},e))),k=({day:e})=>(0,d.tZ)(Z,{top:"The day of the week the job runs.",children:(0,d.tZ)("select",{className:s,"data-name":"dayOfWeek",value:e,children:x})}),g=({date:e})=>(0,d.tZ)(Z,{top:"The day of the month the job runs.",children:(0,d.tZ)("input",{type:"number",min:"1",max:"31",step:"1",value:e,"data-name":"dateInMonth",className:l,required:!0})});var w=t(309);const I=({period:e,time:a,dayOfWeek:t,dateInMonth:r,cronExpression:s})=>{const[l,m]=(0,n.eJ)(!1),u=e===c.aI.CRON,h=u?(0,d.tZ)(b,{value:s,error:l}):(0,d.tZ)(f,{value:a}),p=u&&(0,d.tZ)("div",{className:(0,w.AK)(["Ca",l&&"Da"]),children:y({value:s,setValidity:m})}),Z=e===c.aI.WEEKLY&&(0,d.tZ)(k,{day:t}),v=e===c.aI.MONTHLY&&(0,d.tZ)(g,{date:String(r)});return(0,d.BX)("fieldset",{className:o,children:[(0,d.BX)("div",{className:i,children:[h,(0,d.tZ)("span",{className:"Aa"}),Z,v]}),p]})},C=({data:e,remove:a,clone:t,update:n,isMax:r})=>{const{id:o,functionLocation:i,functionName:s,description:l,period:c,time:m,dayOfWeek:u,dateInMonth:Z,cronExpression:N}=e;return(0,d.tZ)("li",{children:(0,d.BX)("form",{id:o,action:"#",className:"ka",onInput:n,onSubmit:w.PF,children:[(0,d.tZ)(v,{functionLocation:i,functionName:s,description:l}),(0,d.tZ)(h,{name:o,period:c}),(0,d.tZ)(I,{period:c,time:m,dayOfWeek:u,dateInMonth:Z,cronExpression:N}),(0,d.tZ)(p,{remove:a,clone:t,isMax:r})]})})},B=()=>{const{dispatch:e,items:a,isMax:t}=(0,r.bI)("items","isMax"),o=(0,n.I4)((({target:a})=>{e("items/remove",a.form.id)}),[]),i=(0,n.I4)((({target:a})=>{e("items/clone",a.form.id)}),[]),s=(0,n.I4)((({target:a})=>{e("items/update",{id:a.form.id,name:a.dataset.name,value:a.value})}),[]),l=a.map((e=>(0,d.tZ)(C,{data:e,remove:o,clone:i,update:s,isMax:t},e.id)));return(0,d.tZ)("ul",{className:"ja",children:l})};var M=t(717);const E=()=>(0,d.tZ)("svg",{width:"24",height:"24",fill:"currentColor","aria-hidden":"true",children:(0,d.tZ)("path",{d:"M12 12V6h-1v6H5v1h6v6h1v-6h6v-1z"})}),X=()=>{const{dispatch:e,isMax:a}=(0,r.bI)("isMax");return(0,d.tZ)("div",{className:"V",children:(0,d.tZ)("span",{"data-rh":"You can configure up to 20 jobs.",className:"W",children:(0,d.BX)(M.z,{onClick:()=>{e("items/new")},disabled:a,children:[(0,d.tZ)(E,{})," New Job"]})})})},j=()=>(0,d.BX)(d.HY,{children:[(0,d.tZ)(X,{}),(0,d.tZ)(B,{})]}),A=({left:e,right:a})=>(0,d.BX)("div",{className:"M",children:[(0,d.tZ)("div",{className:"O N",children:e}),(0,d.tZ)("div",{className:"P N",children:a})]});var L=t(529);const O=[{regex:/^[\s[\]{}:,]+/},{regex:/^-?\d+(?:\.\d+)?(?:e[+-]?\d+)?/i,className:L.Z.mtk5},{regex:/^"(?:\\.|[^"\\])*"/,className:L.Z.mtk6}],S=({input:e})=>{const a=[];let t;do{t=!1;for(let n=0;n<O.length;n++){const r=O[n],o=r.regex.exec(e);if(Array.isArray(o)){const[n]=o,i="className"in r?(0,d.tZ)("span",{className:r.className,children:n}):n;a.push(i),e=e.substring(n.length),t=!0;break}}}while(e.length>0&&t);return(0,d.tZ)("code",{children:a})};var R=t(225);const V=()=>{const{items:e}=(0,r.bI)("items"),a=(0,n.sO)(null),t=(0,R._g)(e),o=`data:application/json,${encodeURIComponent(t)}`;return(0,d.BX)("div",{className:"Q",children:[(0,d.tZ)("div",{className:"S",children:(0,d.tZ)(M.z,{onClick:()=>{const e=window.getSelection(),t=document.createRange();(0,w.Re)(a.current)&&(t.selectNodeContents(a.current),e.removeAllRanges(),e.addRange(t),document.execCommand("copy"))},children:"Copy Code"})}),(0,d.tZ)("pre",{ref:a,className:"R",children:(0,d.tZ)(S,{input:t})}),(0,d.tZ)("div",{className:"T",children:(0,d.tZ)("a",{href:o,className:"U",download:"jobs.config",type:"application/json","aria-label":"Download a file","data-rh":"Download a file","data-rh-at":"left"})})]})},$=()=>(0,d.tZ)(A,{left:(0,d.tZ)(j,{}),right:(0,d.tZ)(V,{})})},717:(e,a,t)=>{t.d(a,{z:()=>r});var n=t(584);const r=({onClick:e,disabled:a,children:t,type:r="button"})=>(0,n.tZ)("button",{type:r,onClick:e,className:"Fa Ea",disabled:a,children:t})},337:(e,a,t)=>{t.d(a,{G:()=>s});var n=t(502),r=t(458);const o=/^every (\d+ )?(second|minute)s?\b/i,i=e=>[!0,e],s=e=>{try{const a=(0,r.toString)(e,{use24HourTimeFormat:!0});return o.test(a)?i(`${a}\n\nError: You can schedule your job to run at intervals as short as one hour apart, but not shorter. If you define your job to run more frequently, the job will be ignored.`):e.includes("?")?i(`${a}.\n\nError: Velo Job Scheduler does not support the blank syntax with (?) symbol.`):e.includes("#")?i(`${a}.\n\nError: Velo Job Scheduler does not support the hash (#) symbol.`):(0,n.isValidCron)(e,{seconds:!1,allowBlankDay:!1,allowSevenAsSunday:!0,alias:!0})?[!1,a]:i(`${a}.\n\nError: Velo Job Scheduler does not support this syntax.`)}catch(e){return i(String(e))}}},529:(e,a)=>{a.Z={mtk1:"y",mtk4:"z",mtk3:"A",mtk5:"B",mtk6:"C",mtk10:"D",err:"E"}}}]);
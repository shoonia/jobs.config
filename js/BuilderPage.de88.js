(window.g=window.g||[]).push([[315],{6325:(e,t,a)=>{a.r(t),a.d(t,{BuilderPage:()=>ae});var n=a(3934),i=a(7428),r=a(396);const l={list:"wa",item:"xa",fields:"ya",new:"za",title:"Aa",period:"Ba",location:"Ca",period_box:"Da",block:"Ea",label:"Fa",text:"Ga",inputs:"Ha",func_input:"Ia Ha",day_of_week:"Ja Ia Ha",description:"Ka Ha",slash:"La",mono:"Ma Ia Ha",message:"Na",error:"Oa"};var o=a(8661),s=a(4664);const d=(0,o.createContext)((0,s.CC)()),c=()=>(0,o.useContext)(d);var h=a(484),u=a(6584);const m=e=>{if("Enter"===e.key||" "===e.key){const t=e.target;t.firstChild instanceof HTMLElement&&t.firstChild.click()}},p=e=>{let{name:t,value:a,period:n}=e;return(0,u.BX)("label",{className:l.label,tabIndex:0,onKeyDown:m,children:[(0,u.tZ)("input",{type:"radio",name:t,checked:a===n,"data-name":"period",value:a,className:l.period}),(0,u.tZ)("span",{className:l.title,children:a})]})},v=()=>{const{id:e,period:t}=c();return(0,u.tZ)("fieldset",{className:l.fields,children:(0,u.BX)("div",{className:l.period_box,children:[(0,u.tZ)(p,{name:e,value:i.aI.DAILY,period:t}),(0,u.tZ)(p,{name:e,value:i.aI.WEEKLY,period:t}),(0,u.tZ)(p,{name:e,value:i.aI.MONTHLY,period:t}),(0,u.tZ)(p,{name:e,value:i.aI.CRON,period:t})]})})},Z="Wa";var b=a(1330);const f=()=>(0,u.tZ)("svg",{width:"24",height:"24",fill:"#8e21b1","aria-hidden":"true",children:(0,u.tZ)("path",{d:"M17 17a3 3 0 01-3 3H9a3 3 0 01-3-3V7H5V6h13v1h-1v10zM9 9h1v7H9V9zm2 0h1v7h-1V9zm2 0h1v7h-1V9zm-6 8a2 2 0 002 2h5a2 2 0 002-2V7H7v10zm6-11V5h-3v1H9V5a1 1 0 011-1h3a1 1 0 011 1v1h-1z"})}),N=()=>(0,u.tZ)("svg",{width:"24",height:"24",fill:"#116dff","aria-hidden":"true",children:(0,u.tZ)("path",{d:"M6 8V6a1 1 0 011-1h12a1 1 0 011 1v10a1 1 0 01-1 1h-2v2a1 1 0 01-1 1H4a1 1 0 01-1-1V9a1 1 0 011-1h2zm10 1H4v2h12V9zm0 10v-7H4v7h12zM7 8h9a1 1 0 011 1v7h2V6H7v2z"})}),w=e=>{let{up:t}=e;return(0,u.tZ)("svg",{width:"24",height:"24",fill:"#116dff","aria-hidden":"true",children:(0,u.tZ)("path",{d:t?"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z":"M16.59 16.16 12 11.58l-4.59 4.58L6 14.75l6-6 6 6z"})})},g=()=>{const{id:e}=c(),{dispatch:t,items:a}=(0,n.b)("items"),r=a.length,l=a.findIndex((t=>t.id===e));return(0,u.BX)("div",{className:"Va",children:[(0,u.BX)("div",{children:[(0,u.tZ)(b.T,{"aria-label":"Move up",onClick:()=>t("items/up",e),className:Z,"data-rh":"Move up","data-rh-at":"top",disabled:l<1,children:(0,u.tZ)(w,{up:!1})}),(0,u.tZ)(b.T,{"aria-label":"Move down",onClick:()=>t("items/down",e),className:Z,"data-rh":"Move down","data-rh-at":"top",disabled:l>=r-1,children:(0,u.tZ)(w,{up:!0})})]}),(0,u.BX)("div",{children:[(0,u.tZ)(b.T,{"aria-label":"remove",onClick:()=>t("items/remove",e),className:Z,"data-rh":"Remove","data-rh-at":"top",children:(0,u.tZ)(f,{})}),(0,u.tZ)(b.T,{"aria-label":"clone",onClick:()=>t("items/clone",e),className:Z,"data-rh":"Clone","data-rh-at":"top",disabled:r>=i.aA,children:(0,u.tZ)(N,{})})]})]})},y=e=>{let{top:t,children:a}=e;return(0,u.BX)("label",{className:l.block,children:[(0,u.tZ)("span",{className:l.text,children:t}),a]})};var k=a(5073);const C=e=>t=>{const a=t.target,n=a.value.trim();a.value!==n&&(a.value=n),a.setCustomValidity(e(n)?"":"error")},x=C(k.c3),z=C(k.QL),V=()=>{const{functionLocation:e,functionName:t,description:a}=c();return(0,u.BX)("fieldset",{className:l.fields,children:[(0,u.BX)("div",{className:l.location,children:[(0,u.tZ)(y,{top:"Function Location",children:(0,u.tZ)("input",{type:"text","data-name":i.tW.functionLocation,"data-fl":!0,"data-fl-at":"bottom",className:l.func_input,value:e,placeholder:"Function Location",onInput:z,spellcheck:!1,required:!0})}),(0,u.tZ)("span",{className:l.slash,children:"/"}),(0,u.tZ)(y,{top:"Function Name",children:(0,u.tZ)("input",{type:"text","data-name":i.tW.functionName,"data-fl":!0,"data-fl-at":"bottom",className:l.func_input,value:t,placeholder:"Function Name",onInput:x,spellcheck:!1,required:!0})})]}),(0,u.tZ)("div",{className:l.location,children:(0,u.tZ)(y,{top:"Description",children:(0,u.tZ)("input",{type:"text",value:a,className:l.description,"data-name":i.tW.description,placeholder:"Description"})})})]})};var M=a(8001);const I=e=>{let{value:t,setValidity:a}=e;const[n,i]=(0,M._)(t);return(0,r.d4)((()=>{a(n)}),[n]),(0,u.tZ)(u.HY,{children:i})},B=e=>{let{value:t,error:a}=e;const n=(0,r.sO)(null);return(0,r.d4)((()=>{n.current?.setCustomValidity(a?"error":"")}),[a]),(0,u.tZ)(y,{top:"A valid cron expression",children:(0,u.tZ)("input",{ref:n,type:"text",className:l.mono,value:t,"data-name":i.tW.cronExpression,spellcheck:!1,required:!0})})},H=()=>{const{time:e}=c();return(0,u.tZ)(y,{top:"The time of day the job runs",children:(0,u.tZ)("input",{type:"time",value:e,"data-name":"time",className:l.mono,required:!0})})},L=()=>(0,u.tZ)("svg",{width:"18",height:"18",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,u.tZ)("path",{d:"M6 12.5c0-.828.666-1.5 1.5-1.5.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5zm5 0c0-.828.666-1.5 1.5-1.5.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5zm5 0c0-.828.666-1.5 1.5-1.5.828 0 1.5.666 1.5 1.5 0 .828-.666 1.5-1.5 1.5-.828 0-1.5-.666-1.5-1.5z"})}),A=()=>{const{id:e}=c();return(0,u.tZ)(y,{top:"Cron Examples",children:(0,u.tZ)(b.T,{className:"Xa","aria-haspopup":"true","aria-label":"Show examples","data-fl":!0,"data-fl-at":"right","data-name":i.tW.cronExpression,"data-id":e,children:(0,u.tZ)(L,{})})})},X=a(6705).N.map((e=>(0,u.tZ)("option",{value:e,children:e},e))),j=()=>{const{dayOfWeek:e}=c();return(0,u.tZ)(y,{top:"The day of the week the job runs",children:(0,u.tZ)("select",{className:l.day_of_week,"data-name":i.tW.dayOfWeek,value:e,children:X})})},S=()=>{const{dateInMonth:e}=c();return(0,u.tZ)(y,{top:"The day of the month the job runs",children:(0,u.tZ)("input",{type:"number",min:1,max:31,step:1,value:String(e),"data-name":i.tW.dateInMonth,className:l.mono,required:!0})})},T=()=>{const[e,t]=(0,r.eJ)(!1),{period:a,cronExpression:n}=c(),o=a===i.aI.CRON,s=o?(0,u.tZ)(B,{value:n,error:e}):(0,u.tZ)(H,{}),d=o&&(0,u.tZ)(A,{}),m=o&&(0,u.tZ)("div",{className:(0,h.AK)([l.message,e&&l.error]),children:(0,u.tZ)(I,{value:n,setValidity:t})}),p=a===i.aI.WEEKLY&&(0,u.tZ)(j,{}),v=a===i.aI.MONTHLY&&(0,u.tZ)(S,{});return(0,u.BX)("fieldset",{className:l.fields,children:[(0,u.BX)("div",{className:l.location,children:[s,(0,u.tZ)("span",{className:l.slash}),d,p,v]}),m]})},E=(0,o.memo)((e=>{let{id:t,update:a,isNew:i}=e;return((e,t)=>{(0,r.d4)((()=>{if(t){const t=setTimeout((()=>{n.h.dispatch("items/update",{id:e,name:"isNew",value:void 0})}),500);return()=>clearTimeout(t)}}),[])})(t,i),(0,u.BX)("form",{id:t,action:"#",className:(0,h.AK)([l.item,i&&l.new]),onInput:a,onSubmit:h.PF,children:[(0,u.tZ)(V,{}),(0,u.tZ)(v,{}),(0,u.tZ)(T,{}),(0,u.tZ)(g,{})]})})),W=()=>{const{dispatch:e,items:t}=(0,n.b)("items"),a=(0,r.I4)((t=>{const a=t.target;e("items/update",{id:a.form.id,name:a.dataset.name,value:a.value})}),[]),i=t.map(((e,t,n)=>{const i=(0,h.AK)([0===t&&l.first,t===n.length-1&&l.last]);return(0,u.tZ)("li",{className:i,children:(0,u.tZ)(d.Provider,{value:e,children:(0,u.tZ)(E,{id:e.id,isNew:e.isNew,update:a})})},e.id)}));return(0,u.tZ)("ul",{className:l.list,children:i})},_=e=>{let{children:t}=e;return(0,u.tZ)("div",{className:"Pa",children:t})},D=e=>{let{children:t,label:a}=e;return(0,u.tZ)("span",{"data-rh":a,"data-rh-at":"top",className:"Qa",children:t})},O=()=>(0,u.tZ)("svg",{width:"24",height:"24",fill:"currentColor","aria-hidden":"true",children:(0,u.tZ)("path",{d:"M12 12V6h-1v6H5v1h6v6h1v-6h6v-1z"})});var P=a(6517);const Y=()=>{const{dispatch:e,items:t}=(0,n.b)("items");return(0,u.BX)(_,{children:[(0,u.tZ)(D,{label:"You can configure up to 20 jobs",children:(0,u.BX)(b.z,{onClick:()=>{e("items/new")},disabled:t.length>=i.aA,children:[(0,u.tZ)(O,{})," New Job"]})}),(0,u.tZ)(D,{label:"Upload your config",children:(0,u.tZ)(b.z,{onClick:()=>{location.hash=i.Yj.UPLOAD},"aria-label":"Upload your config",children:(0,u.tZ)(P.b,{})})})]})},F=()=>(0,u.BX)("div",{children:[(0,u.tZ)(Y,{}),(0,u.tZ)(W,{})]});var K=a(8105);const R=[{regex:/^[\s[\]{}:,]+/},{regex:/^"(?:\\.|[^"\\])*"/,className:K.Z.mtk6},{regex:/^-?\d+(?:\.\d+)?(?:e[+-]?\d+)?/,className:K.Z.mtk5}],q=e=>{let{input:t}=e;const a=[];for(;t.length;)for(const e of R){const n=e.regex.exec(t);if(Array.isArray(n)){const[i]=n,r=e.className?(0,u.tZ)("span",{className:e.className,children:i}):i;a.push(r),t=t.slice(i.length);break}}return(0,u.tZ)("code",{children:a})};var J=a(1621);const U="function"===typeof window.showSaveFilePicker,$=()=>(0,u.tZ)("svg",{width:"24",height:"24",fill:"currentColor","aria-hidden":"true",children:(0,u.tZ)("path",{d:"M20 15v4c0 .276-.111.525-.293.707S19.276 20 19 20H5c-.276 0-.525-.111-.707-.293S4 19.276 4 19v-4a1 1 0 00-2 0v4a2.997 2.997 0 003 3h14a2.997 2.997 0 003-3v-4a1 1 0 00-2 0zm-7-2.414V3a1 1 0 00-2 0v9.586L7.707 9.293a.999.999 0 10-1.414 1.414l5 5A1.008 1.008 0 0012 16a.997.997 0 00.707-.293l5-5a.999.999 0 10-1.414-1.414z"})}),Q=e=>{let{label:t,data:a}=e;return U?(0,u.tZ)(b.z,{onClick:()=>(async e=>{const t=await window.showSaveFilePicker({suggestedName:"jobs.config"});if("granted"===await t.queryPermission()){const a=await t.createWritable();await a.write(e),await a.close()}})(a),"aria-label":t,children:(0,u.tZ)($,{})}):(0,u.tZ)("a",{href:`data:application/json,${encodeURIComponent(a)}`,className:J.Z.btn,download:"jobs.config",type:"application/json","aria-label":t,tabIndex:0,children:(0,u.tZ)($,{})})},G=()=>{const{items:e}=(0,n.b)("items"),t=(0,r.sO)(null),a=(0,s._g)(e),i=(e=>`// Jobs Config Generator\n// https://wix.to/NDAQn6c\n\n${e}`)(a);return(0,u.BX)("div",{className:"ha",children:[(0,u.BX)(_,{children:[(0,u.tZ)(D,{label:"Copy to clipboard",children:(0,u.tZ)(b.z,{onClick:async()=>{if(await navigator.clipboard.writeText(i),t.current){const e=window.getSelection(),a=document.createRange();a.selectNodeContents(t.current),e?.removeAllRanges(),e?.addRange(a)}},children:"Copy Code"})}),(0,u.tZ)(D,{label:"Download a file",children:(0,u.tZ)(Q,{label:"Download a file",data:i})})]}),(0,u.tZ)("pre",{ref:t,className:"ia",children:(0,u.tZ)(q,{input:a})})]})},ee=(0,o.lazy)((()=>Promise.all([a.e(532),a.e(695),a.e(643)]).then(a.bind(a,3763)).then((e=>e.UploadModal)))),te=()=>(0,u.tZ)(o.Suspense,{fallback:null,children:(0,u.tZ)(ee,{})}),ae=()=>{const{path:e}=(0,n.b)("path"),t=e===i.Yj.UPLOAD&&(0,u.tZ)(te,{});return(0,u.BX)("div",{className:"R",children:[(0,u.tZ)(F,{}),(0,u.tZ)(G,{}),t]})}},1330:(e,t,a)=>{a.d(t,{T:()=>o,z:()=>l});var n=a(1621),i=a(484),r=a(6584);const l=e=>{let{type:t="button",onClick:a,children:l,className:o,...s}=e;const d=(0,i.AK)([n.Z.btn,o]);return(0,r.tZ)("button",{type:t,onClick:a,className:d,...s,children:l})},o=e=>{let{children:t,className:a,...l}=e;const o=(0,i.AK)([n.Z.blank,a]);return(0,r.tZ)("button",{type:"button",className:o,...l,children:t})}},8001:(e,t,a)=>{a.d(t,{_:()=>o});var n=a(7502),i=a(2458);const r=/^every (\d+ )?(second|minute)s?\b/i,l=e=>[!0,e],o=e=>{try{const t=(0,i.toString)(e,{use24HourTimeFormat:!0});return r.test(t)?l(`${t}\n\nError: You can schedule your job to run at intervals as short as one hour apart, but not shorter. If you define your job to run more frequently, the job will be ignored.`):e.includes("?")?l(`${t}.\n\nError: Velo Job Scheduler does not support the blank syntax with (?) symbol.`):e.includes("#")?l(`${t}.\n\nError: Velo Job Scheduler does not support the hash (#) symbol.`):(0,n.isValidCron)(e,{seconds:!1,allowBlankDay:!1,allowSevenAsSunday:!0,alias:!0})?[!1,t]:l(`${t}.\n\nError: Velo Job Scheduler does not support this syntax.`)}catch(e){return l(String(e))}}},6517:(e,t,a)=>{a.d(t,{b:()=>i});var n=a(6584);const i=()=>(0,n.tZ)("svg",{width:"24",height:"24",fill:"none","aria-hidden":"true",children:(0,n.tZ)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.31 14.44v3.3a1.83 1.83 0 01-1.83 1.83h-13a1.83 1.83 0 01-1.83-1.83v-3.3M12 14V4M7.47 8L12 3.47 16.53 8"})})},1621:(e,t,a)=>{a.d(t,{Z:()=>n});const n={base:"ja",btn:"ka ja",blank:"la ja"}},8105:(e,t,a)=>{a.d(t,{Z:()=>n});const n={mtk1:"s",mtk4:"t",mtk3:"u",mtk5:"v",mtk6:"w",mtk10:"x",err:"y"}}}]);
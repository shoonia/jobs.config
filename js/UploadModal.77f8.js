(window.g=window.g||[]).push([[643],{862:(e,n,t)=>{t.d(n,{k:()=>x});var r=t(720),i=t(6584);const o=e=>{let{index:n,name:t,expected:r}=e;return(0,i.tZ)("p",{children:'Incorrect type of property "'+t+'" at "jobs['+n+']". Expected "'+r+'".'})};var c=t(6705),l=t(5073),a=t(484),s=t(7428),d=t(2598);const p=[s.tW.functionLocation,s.tW.functionName,s.tW.executionConfig],h=[...p,s.tW.description],u=[s.tW.dayOfWeek,s.tW.dateInMonth],f=[s.tW.time,...u],m=[s.tW.cronExpression,...f],Z=e=>[!0,e],b=(e,n)=>{for(const t of Object.keys(e))if(!n.includes(t))return[!0,t];return[!1]},j=(e,n)=>{for(const t of n)if(!(t in e))return[!0,t];return[!1]},x=e=>{const n='", "';if(!(0,a.Kn)(e))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Incorrect type. Expected "object".'}),(0,i.tZ)("p",{children:"The jobs.config file must contains a JSON object."})]}));if(!(s.tW.jobs in e))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Missing property "jobs".'}),(0,i.tZ)("p",{children:'The jobs object must contains one top-level key named "jobs".'})]}));const t=Object.keys(e);if(t.length>1){const e=t.filter((e=>e!==s.tW.jobs)).join(n);return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Unknown property "'+e+'".'}),(0,i.tZ)("p",{children:'The jobs object must contains one top-level key named "jobs".'})]}))}if(!Array.isArray(e.jobs))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Incorrect type. Expected "array".'}),(0,i.tZ)("p",{children:'The top-level key "jobs" must be an array.'})]}));const x=e.jobs;let y=x.length;if(y>20)return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:"Too many scheduled jobs. ("+y+")"}),(0,i.tZ)("p",{children:"You can configure up to 20 jobs."})]}));if(y<1)return Z((0,i.tZ)("p",{children:"No scheduled jobs."}));if(!x.every(a.Kn))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Incorrect type. Expected "object."'}),(0,i.tZ)("p",{children:'The "jobs" array must contain only objects, each of which represents a scheduled job.'})]}));for(;0<y--;){const e=x[y],[t,g]=b(e,h);if(t)return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Unknown property "'+g+'" at "jobs['+y+']".'}),(0,i.tZ)("p",{children:'Allowed one of "'+h.join(n)+'"'})]}));const[v,W]=j(e,p);if(v)return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Missing property "'+W+'" at "jobs['+y+']"'}),(0,i.tZ)("p",{children:'Each scheduled job object must contain the required fields "'+p.join(n)+'".'})]}));if(s.tW.description in e&&!(0,a.HD)(e.description))return Z((0,i.tZ)(o,{index:y,name:s.tW.description,expected:"string"}));const H=e.functionLocation;if(!(0,a.HD)(H))return Z((0,i.tZ)(o,{index:y,name:s.tW.functionLocation,expected:"string"}));if(!(0,l.QL)(H))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Invalid "functionLocation" at "jobs['+y+']".'}),(0,i.BX)("p",{children:["The function location is a relative path within the Backend folder for ",(0,i.tZ)("code",{children:".js"})," or ",(0,i.tZ)("code",{children:".jsw"})," file."]}),(0,i.tZ)("p",{children:"File and Folder names can contain only alphanumeric characters, periods, hyphens and underscores, and can not begin or end with a period."})]}));const B=e.functionName;if(!(0,a.HD)(B))return Z((0,i.tZ)(o,{index:y,name:s.tW.functionName,expected:"string"}));if(!(0,l.c3)(B)||(0,r.isKeyword)(B)||(0,r.isStrictBindReservedWord)(B,!0))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Invalid "functionName" at "jobs['+y+']"'}),(0,i.tZ)("p",{children:'Error: "'+B+'".'})]}));const C=e.executionConfig;if(!(0,a.Kn)(C))return Z((0,i.tZ)(o,{index:y,name:s.tW.executionConfig,expected:"object"}));const[I,w]=b(C,m);if(I)return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Unknown property "'+w+'" in "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:'Allowed one of "'+m.join(n)+'"'})]}));if(s.tW.cronExpression in C){const e=C.cronExpression;if(!(0,a.HD)(e))return Z((0,i.tZ)(o,{index:y,name:s.tW.cronExpression,expected:"string"}));const[n,t]=(0,d.G)(e);if(n)return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Invalid "cronExpression" at "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:t})]}))}else{if(!(s.tW.time in C))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Missing the time of the job runs at "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:'The "executionConfig" object must contain one of "time", "cronExpression" properties.'})]}));{const e=C.time;if(!(0,a.HD)(e))return Z((0,i.tZ)(o,{index:y,name:s.tW.time,expected:"string"}));if(!(0,l.CO)(e))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Invalid "time" at "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:'Error: "'+e+'". The time is specified as UTC time in HH:MM format.'})]}))}}if(s.tW.dayOfWeek in C){const e=C.dayOfWeek;if(!(0,a.HD)(e))return Z((0,i.tZ)(o,{index:y,name:s.tW.dayOfWeek,expected:"string"}));if(!c.N.some((n=>n===e)))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Incorrect value of "dayOfWeek" at "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:'Error: unknown value "'+e+'". Allowed one of "'+c.N.join(n)+'"'})]}))}if(s.tW.dateInMonth in C){const e=C.dateInMonth;if(!(0,a.hj)(e))return Z((0,i.tZ)(o,{index:y,name:s.tW.dateInMonth,expected:"number"}));if(!Number.isInteger(e)||e<1||e>31)return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Invalid "dateInMonth" at "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:'The value of the "dateInMonth" property must be a number between 1 and 31.'})]}))}if(s.tW.cronExpression in C&&f.some((e=>e in C)))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Mutual exclusion property at "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:'Error: "cronExpression" omit all of "'+f.join(n)+'" properties.'}),(0,i.tZ)("p",{children:(0,i.tZ)("em",{children:'When using a cron expression to specify when a job runs, the "executionConfig" object contains a single property, named "cronExpression", whose value is a valid cron expression.'})})]}));if(u.every((e=>e in C)))return Z((0,i.BX)(i.HY,{children:[(0,i.tZ)("p",{children:'Mutual exclusion property at "jobs['+y+'].executionConfig".'}),(0,i.tZ)("p",{children:'Error: "dateInMonth" omit the "dayOfWeek" property.'})]}))}return[!1]}},3516:(e,n,t)=>{t.d(n,{D:()=>o});var r=t(6509),i=t(278);const o=e=>{try{const n=(0,r.Z)(e);return[null,(0,i.Z)(n)]}catch(e){return[String(e)]}}},6005:(e,n,t)=>{t.d(n,{z:()=>i});var r=t(6584);const i=e=>{let{onInput:n,value:t}=e;return(0,r.tZ)("textarea",{onInput:n,className:"ma",value:t,placeholder:"{}",spellcheck:!1})}},1313:(e,n,t)=>{t.d(n,{G:()=>c});var r=t(484),i=t(6517),o=t(6584);const c=e=>{let{className:n,onLoad:t,onError:c}=e;return(0,o.BX)("label",{className:(0,r.AK)(["R",n]),"aria-label":"Upload your file","data-rh":"Upload your file","data-rh-at":"left",children:[(0,o.tZ)("input",{type:"file",className:"S",onChange:e=>{let{target:n}=e;(e=>new Promise(((n,t)=>{var i;if(e instanceof HTMLInputElement&&1===(null==(i=e.files)?void 0:i.length)){const i=e.files[0],o=new FileReader;o.onload=()=>{(0,r.HD)(o.result)?n(o.result):t()},o.onerror=t,o.readAsText(i)}else t()})))(n).then(t,c)}}),(0,o.tZ)(i.b,{})]})}},3763:(e,n,t)=>{t.r(n),t.d(n,{UploadModal:()=>j});var r=t(2323),i=t(396),o=t(484),c=t(3516),l=t(862),a=t(4664),s=t(7428),d=t(3253),p=t.n(d),h=t(6584);p().setAppElement("#app");const u=e=>{let{close:n,label:t,children:r}=e;return(0,h.tZ)(p(),{isOpen:!0,onRequestClose:n,contentLabel:t,overlayClassName:"Ta",className:"Wa",bodyOpenClassName:"Ua",htmlOpenClassName:"Va",children:r})};var f=t(6005),m=t(1330),Z=t(1313);const b=()=>(0,h.tZ)("svg",{fill:"currentColor",width:"12",height:"12",viewBox:"0 0 8 8","aria-hidden":"true",children:(0,h.tZ)("path",{d:"M7.2 0 4 3.2.8 0 .1.7 3.3 4 0 7.3l.7.7L4 4.7 7.3 8l.7-.7L4.7 4 7.9.7z"})}),j=()=>{const e=(0,i.sO)(""),{dispatch:n}=(0,r.bI)(),t=()=>{n("router/open-modal",!1)},d=e=>{if(""===e.trim())return t();const[r,i]=(0,c.D)(e);if(!r){const[e]=(0,l.k)(i);if(!e)return n("items/replace",(0,a.Ze)(i)),t()}n("validator/input",e),location.hash=s.Yj.VALIDATOR};return(0,h.tZ)(u,{label:"Upload form",close:t,children:(0,h.BX)("form",{onSubmit:n=>{(0,o.PF)(n),d(e.current)},className:"ha",children:[(0,h.tZ)(m.T,{onClick:t,className:"ia","aria-label":"close modal",children:(0,h.tZ)(b,{})}),(0,h.tZ)("h2",{children:"Upload your config"}),(0,h.BX)("div",{className:"ka",children:[(0,h.tZ)(Z.G,{className:"la",onLoad:d}),(0,h.tZ)(f.z,{onInput:n=>{let{target:t}=n;t instanceof HTMLTextAreaElement&&(e.current=t.value)}})]}),(0,h.BX)("div",{className:"ja",children:[(0,h.tZ)(m.z,{type:"submit",children:"Upload Config"}),(0,h.tZ)(m.z,{onClick:t,children:"Cancel"})]})]})})}},754:()=>{}}]);
(window.g=window.g||[]).push([[643],{862:(e,n,t)=>{t.d(n,{k:()=>x});var r=t(720),o=t(6584);const i=e=>{let{index:n,name:t,expected:r}=e;return(0,o.tZ)("p",{children:'Incorrect type of property "'+t+'" at "jobs['+n+']". Expected "'+r+'".'})};var c=t(6705),s=t(5073),l=t(484),a=t(7428),d=t(2598);const p=[a.tW.functionLocation,a.tW.functionName,a.tW.executionConfig],h=[...p,a.tW.description],u=[a.tW.dayOfWeek,a.tW.dateInMonth],f=[a.tW.time,...u],m=[a.tW.cronExpression,...f],Z=e=>[!0,e],b=(e,n)=>{for(const t of Object.keys(e))if(!n.includes(t))return[!0,t];return[!1]},j=(e,n)=>{for(const t of n)if(!(t in e))return[!0,t];return[!1]},x=e=>{const n='", "';if(!(0,l.Kn)(e))return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Incorrect type. Expected "object".'}),(0,o.tZ)("p",{children:"The jobs.config file must contains a JSON object."})]}));if(!(a.tW.jobs in e))return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Missing property "jobs".'}),(0,o.tZ)("p",{children:'The jobs object must contains one top-level key named "jobs".'})]}));const t=Object.keys(e);if(t.length>1){const e=t.filter((e=>e!==a.tW.jobs)).join(n);return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Unknown property "'+e+'".'}),(0,o.tZ)("p",{children:'The jobs object must contains one top-level key named "jobs".'})]}))}if(!Array.isArray(e.jobs))return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Incorrect type. Expected "array".'}),(0,o.tZ)("p",{children:'The top-level key "jobs" must be an array.'})]}));const x=e.jobs;let y=x.length;if(y>20)return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:"Too many scheduled jobs. ("+y+")"}),(0,o.tZ)("p",{children:"You can configure up to 20 jobs."})]}));if(y<1)return Z((0,o.tZ)("p",{children:"No scheduled jobs."}));if(!x.every(l.Kn))return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Incorrect type. Expected "object."'}),(0,o.tZ)("p",{children:'The "jobs" array must contain only objects, each of which represents a scheduled job.'})]}));for(;0<y--;){const e=x[y],[t,g]=b(e,h);if(t)return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Unknown property "'+g+'" at "jobs['+y+']".'}),(0,o.tZ)("p",{children:'Allowed one of "'+h.join(n)+'"'})]}));const[v,W]=j(e,p);if(v)return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Missing property "'+W+'" at "jobs['+y+']"'}),(0,o.tZ)("p",{children:'Each scheduled job object must contain the required fields "'+p.join(n)+'".'})]}));if(a.tW.description in e&&!(0,l.HD)(e.description))return Z((0,o.tZ)(i,{index:y,name:a.tW.description,expected:"string"}));const H=e.functionLocation;if(!(0,l.HD)(H))return Z((0,o.tZ)(i,{index:y,name:a.tW.functionLocation,expected:"string"}));if(!(0,s.QL)(H))return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Invalid "functionLocation" at "jobs['+y+']".'}),(0,o.BX)("p",{children:["The function location is a relative path within the Backend folder for ",(0,o.tZ)("code",{children:".js"})," or ",(0,o.tZ)("code",{children:".jsw"})," file."]}),(0,o.tZ)("p",{children:"File and Folder names can contain only alphanumeric characters, periods, hyphens and underscores, and can not begin or end with a period."})]}));const B=e.functionName;if(!(0,l.HD)(B))return Z((0,o.tZ)(i,{index:y,name:a.tW.functionName,expected:"string"}));if(!(0,s.c3)(B)||(0,r.isKeyword)(B)||(0,r.isStrictBindReservedWord)(B,!0))return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Invalid "functionName" at "jobs['+y+']"'}),(0,o.tZ)("p",{children:'Error: "'+B+'".'})]}));const I=e.executionConfig;if(!(0,l.Kn)(I))return Z((0,o.tZ)(i,{index:y,name:a.tW.executionConfig,expected:"object"}));const[C,E]=b(I,m);if(C)return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Unknown property "'+E+'" in "jobs['+y+'].executionConfig".'}),(0,o.tZ)("p",{children:'Allowed one of "'+m.join(n)+'"'})]}));if(a.tW.cronExpression in I){const e=I.cronExpression;if(!(0,l.HD)(e))return Z((0,o.tZ)(i,{index:y,name:a.tW.cronExpression,expected:"string"}));const[n,t]=(0,d.G)(e);if(n)return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Invalid "cronExpression" at "jobs['+y+'].executionConfig".'}),(0,o.tZ)("p",{children:t})]}))}else{if(!(a.tW.time in I))return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Missing the time of the job runs at "jobs['+y+'].executionConfig".'}),(0,o.tZ)("p",{children:'The "executionConfig" object must contain one of "time", "cronExpression" properties.'})]}));{const e=I.time;if(!(0,l.HD)(e))return Z((0,o.tZ)(i,{index:y,name:a.tW.time,expected:"string"}));if(!(0,s.CO)(e))return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Invalid "time" at "jobs['+y+'].executionConfig".'}),(0,o.tZ)("p",{children:'Error: "'+e+'". The time is specified as UTC time in HH:MM format.'})]}))}}if(a.tW.dayOfWeek in I){const e=I.dayOfWeek;if(!(0,l.HD)(e))return Z((0,o.tZ)(i,{index:y,name:a.tW.dayOfWeek,expected:"string"}));if(!c.N.some((n=>n===e)))return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Incorrect value of "dayOfWeek" at "jobs['+y+'].executionConfig".'}),(0,o.tZ)("p",{children:'Error: unknown value "'+e+'". Allowed one of "'+c.N.join(n)+'"'})]}))}if(a.tW.dateInMonth in I){const e=I.dateInMonth;if(!(0,l.hj)(e))return Z((0,o.tZ)(i,{index:y,name:a.tW.dateInMonth,expected:"number"}));if(!Number.isInteger(e)||e<1||e>31)return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Invalid "dateInMonth" at "jobs['+y+'].executionConfig".'}),(0,o.tZ)("p",{children:'The value of the "dateInMonth" property must be a number between 1 and 31.'})]}))}if(a.tW.cronExpression in I&&f.some((e=>e in I)))return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Mutual exclusion property at "jobs['+y+'].executionConfig".'}),(0,o.tZ)("p",{children:'Error: "cronExpression" omit all of "'+f.join(n)+'" properties.'}),(0,o.tZ)("p",{children:(0,o.tZ)("em",{children:'When using a cron expression to specify when a job runs, the "executionConfig" object contains a single property, named "cronExpression", whose value is a valid cron expression.'})})]}));if(u.every((e=>e in I)))return Z((0,o.BX)(o.HY,{children:[(0,o.tZ)("p",{children:'Mutual exclusion property at "jobs['+y+'].executionConfig".'}),(0,o.tZ)("p",{children:'Error: "dateInMonth" omit the "dayOfWeek" property.'})]}))}return[!1]}},3516:(e,n,t)=>{t.d(n,{D:()=>i});var r=t(6509),o=t(278);const i=e=>{try{const n=(0,r.Z)(e);return[null,(0,o.Z)(n)]}catch(e){return[String(e)]}}},6005:(e,n,t)=>{t.d(n,{z:()=>o});var r=t(6584);const o=e=>{let{onInput:n,value:t}=e;return(0,r.tZ)("textarea",{onInput:n,className:"la",value:t,placeholder:"{}",spellcheck:!1})}},1313:(e,n,t)=>{t.d(n,{G:()=>c});var r=t(484),o=t(6517),i=t(6584);const c=e=>{let{className:n,onLoad:t,onError:c}=e;return(0,i.BX)("label",{className:(0,r.AK)(["R",n]),"aria-label":"Upload your file","data-rh":"Upload your file","data-rh-at":"left",children:[(0,i.tZ)("input",{type:"file",className:"S",onChange:e=>{let{target:n}=e;(e=>new Promise(((n,t)=>{var o;if(e instanceof HTMLInputElement&&1===(null==(o=e.files)?void 0:o.length)){const o=e.files[0],i=new FileReader;i.onload=()=>{(0,r.HD)(i.result)?n(i.result):t()},i.onerror=t,i.readAsText(o)}else t()})))(n).then(t,c)}}),(0,i.tZ)(o.b,{})]})}},2410:(e,n,t)=>{t.r(n),t.d(n,{UploadModal:()=>b});var r=t(2323),o=t(396),i=t(484),c=t(3516),s=t(862),l=t(4664),a=t(7428),d=t(3253),p=t.n(d),h=t(6584);p().setAppElement("#app");const u=e=>{let{close:n,label:t,children:r}=e;return(0,h.tZ)(p(),{isOpen:!0,onRequestClose:n,contentLabel:t,overlayClassName:"Qa",className:"Ta",bodyOpenClassName:"Ra",htmlOpenClassName:"Sa",children:r})};var f=t(6005),m=t(6580),Z=t(1313);const b=()=>{const e=(0,o.sO)(""),{dispatch:n}=(0,r.bI)(),t=()=>{n("router/open-modal",!1)},d=e=>{if(""===e.trim())return t();const[r,o]=(0,c.D)(e);if(!r){const[e]=(0,s.k)(o);if(!e)return n("items/replace",(0,l.Ze)(o)),t()}n("validator/input",e),location.hash=a.Yj.VALIDATOR};return(0,h.tZ)(u,{label:"Upload form",close:t,children:(0,h.BX)("form",{onSubmit:n=>{(0,i.PF)(n),d(e.current)},className:"ha",children:[(0,h.tZ)("h2",{children:"Upload your config"}),(0,h.BX)("div",{className:"ja",children:[(0,h.tZ)(Z.G,{className:"ka",onLoad:d}),(0,h.tZ)(f.z,{onInput:n=>{let{target:t}=n;t instanceof HTMLTextAreaElement&&(e.current=t.value)}})]}),(0,h.BX)("div",{className:"ia",children:[(0,h.tZ)(m.z,{type:"submit",children:"Upload Config"}),(0,h.tZ)(m.z,{onClick:t,children:"Close"})]})]})})}},754:()=>{}}]);